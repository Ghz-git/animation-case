{"version":3,"file":"index-ORJ-4V9n.js","sources":["../../../../src/pages/academy/calendar/index.vue"],"sourcesContent":["<template>\r\n        <div class=\"calendar\">\r\n                <div class=\"calendar_header\">\r\n                        <div class=\"calendar-breadcrumb\">\r\n                                <publicBreadcrumb :item=\"item\"></publicBreadcrumb>\r\n                        </div>\r\n                        <!-- <div class=\"link\">\r\n                <nuxt-link-locale class=\"arrow\" to=\"/\"></nuxt-link-locale>\r\n                <span>{{ t(\"Battle.back\") }}</span>\r\n            </div> -->\r\n                        <div class=\"title\">\r\n                                <nuxt-link-locale class=\"back-m\" to=\"/\"></nuxt-link-locale>\r\n                                <span class=\"title-inner\">{{\r\n                                        t('Footer.list.item3.children1')\r\n                                }}</span>\r\n                        </div>\r\n                </div>\r\n                <div class=\"main-box\">\r\n                        <div\r\n                                class=\"loading-mask\"\r\n                                v-loading=\"true\"\r\n                                element-loading-background=\"#1a1d22\"\r\n                        ></div>\r\n                        <div id=\"economicCalendarWidget\"></div>\r\n                </div>\r\n        </div>\r\n</template>\r\n<script setup>\r\nimport { computed, onBeforeUnmount, onMounted } from 'vue'\r\nimport { LANGUAGE_LIST } from '@/config/language'\r\nimport { ga4 } from '@/utils/ga4'\r\n// definePageMeta({\r\n//     layout: \"academy\",\r\n//     index: 1\r\n// });\r\nlet script = null\r\nconst i18n = useI18n()\r\nconst { t } = i18n\r\nconst item = ref([\r\n        {\r\n                path: '/academy',\r\n                page: 'User.tips7',\r\n        },\r\n        {\r\n                path: '',\r\n                page: 'Footer.list.item3.children1',\r\n        },\r\n])\r\n\r\nconst currentLang = computed(() => {\r\n        return i18n.locale.value\r\n})\r\nconst initScript = () => {\r\n        // 创建一个新的 script 标签\r\n        script = document.createElement('script')\r\n        // 设置要加载的外部脚本文件的 URL\r\n        script.src = 'https://www.tradays.com/c/js/widgets/calendar/widget.js?v=13'\r\n        // 设置 script 标签的属性，包括 async、type 和 data-type\r\n        script.async = true\r\n        script.type = 'text/javascript'\r\n        script.setAttribute('data-type', 'calendar-widget')\r\n        // 设置传递给脚本的参数（以 JSON 字符串的形式）\r\n        const params = {\r\n                width: '100%',\r\n                height: '100%',\r\n                mode: '2',\r\n                theme: 1,\r\n                lang: getLangKey(currentLang.value),\r\n        }\r\n        script.textContent = JSON.stringify(params)\r\n        // 将 script 标签添加到页面中的 <head> 或 <body> 元素中\r\n        document.head.appendChild(script)\r\n}\r\nconst getLangKey = (lang) => {\r\n        return LANGUAGE_LIST.find((item) => item.value === lang).calendar_key\r\n}\r\nonMounted(() => {\r\n        initScript()\r\n        ga4({\r\n                types: 'first_visit',\r\n                params: {\r\n                        page_name: 'Economic Calendar',\r\n                },\r\n                isDailyVisit: true,\r\n        })\r\n})\r\nonBeforeUnmount(() => document.head.removeChild(script))\r\n</script>\r\n<style scoped lang=\"scss\" src=\"./index.scss\"></style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,UAAA,OAAA;AACA,UAAA,EAAA,EAAA,IAAA;AACA,UAAA,OAAA,IAAA;AAAA,MAAiB;AAAA,QACT,MAAA;AAAA,QACc,MAAA;AAAA,MACA;AAAA,MACd;AAAA,QACA,MAAA;AAAA,QACc,MAAA;AAAA,MACA;AAAA,IACd,CAAA;AAGR,aAAA,MAAA;AACQ,aAAA,KAAA,OAAA;AAAA,IAAmB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;"}