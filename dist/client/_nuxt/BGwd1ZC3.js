import{ak as J,al as u,s as E,am as k,q as V,u as Q,an as S,ao as I,ap as W,n as H,aq as b,ar as O,as as y,at as R,au as Y,av as Z,aw as j,k as P,ax as z}from"./_HAIwVXa.js";import{f as N,a as X,b as q,c as _,d as $,e as ee,g as se,h as te,i as ie,j as ae,k as le,l as ne}from"./Dmb7my4Z.js";import{u as oe}from"./c6ZmMwjk.js";import{g as x}from"./C0AqQVWm.js";import{d as C}from"./BHqgVoJ_.js";import{b as U}from"./BqoG-WQz.js";const re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR7SURBVHgB7VlbSBRRGP7tIglbXkgq87KRXeiCuxT1UJb20oUuSj1UEOlLl4dafayHVLo+BOpDRE8qldBDqV0fKlypoBfzghSRoGVlQrHrhUBLTuc7dJaZ2Z2dM84KYn0w7Mw/M/9/vvOff87//xvHOGgaYAZNE/ybRKqrq6mwsJAmE+3t7eT1eikYDNp6T5lIb28vVVVVUVJSkiCE61ijoqJCEIBunNsCU0RRURFzu92subkZHwdxjfNYoKenR+jik8QKCgpYeXm5sGFHvxKRhoYGobiysjJESMpqamqYU3g8HpaXlyf0Qyd0w4bP51PWoUQESnFg0HLwUhYLSC/X1tYKQtAbCATENV/OSjosiUg3w/0wgNmDcsja2tpM3/sdHGI/O9+yH7fvsuDDp+I8GkAAS0t6GnbhfchAyhERDB6KoFC7bkEIMjMCfWcusg73evYmebnu6MrJZ9/r75rawlLCb0lJibCLiZL2HRGBQm2Aw5CMERg0YvjF64gEjMe73H1s9OPnsPf9fn/IK/jVxk0071sSATBgY4BDuRGBR08tCRi9A+8ZATtaAphE2LVCnGBjAR50Yv8oLS0V15yc7v7Ypy/0Ye8R8WsHqSeOUvqlszoZ9wrl5+eLPQv7CV8FxMlZ6lIiAmCjwo7LZ4d4wOvudZ0+R79u3aGJYNn9m+TavEEnQ/aQk5NDPC5JFcpEzDA+OESvsjfR3PExmghSDhVS1rUrOhkmDSvADhwnjf72PhqZGa/8/LDh2cHHz8OesUsCmEUO8bInQGmzXbRobMT0GQz+6qKN5E/MFOdp/NnjA220J9AtPIrYis9cTE7g2CO93wap1bUw6jMHl+2jBynZIW98jXdRWUYu1c9fJa7tfiQiISb1SP381fR+TkrEezcWeKmfD9zs3rCNZRkNjolkJMSJwRxbupMeJGeH5GI5pW3kg/WYvotn/PMyaWbiPHIKxzGyeUkyyUFhueBAvJh5wYiB1DRKWLuSnMKxRzZs81KSa45OpkoCyNi+JUxmtzoElInIDRE7rxYgUXJgPU0UB0/uDZMhg7BbISoRaWxspLq6OvF9Ly4uDpsxHyeSzmPFLs5sW0LuhYlhtpASZWVlCVuqJXVUIhgwPAASSBfKysqEYtTsWsArjRf229rd16Qm0HnfrjA5vCFzKxBCMwL2HRGRXRMkbkBTUxPx1D6U0Gmxbl02PavYHTbDkZDnySR/1WH+tZqrk0MnJo9XoGJp8aybOjo6xK9l3ERLjVGZybrAWFhBFjHt7w+yUxfusfQdVxhtvaw7couus5onnZHf+1suaAsr2ZBQKawsk0bMPtzNlYoZQ5zgQKoNGSdk+m5razcFR0bF+dIV6VG9hXjAMoY3MPs4WlpahAx2LFN5pgDZEDBrEjiFtqmBnoCsQHGtUlQBSkQkASwv2SSQsli0g6ATBIxdGthThXKDzrhucR3LBh1qctnU0HZuVKFMRBv4mDGrZsBEgDpd28m0A2Ui0hBampMJTBAmy443AMel7lTB/z96phr+ALx8vorbLjb6AAAAAElFTkSuQmCC",he="data:image/png;base64,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",ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKzSURBVHgB7ZhLTBNRFIb/AlaeLcIGUUI3ookPmmAMdFV2xMRoApGluHANBNe+1hpgKyui0WCCYkxMF0bKBjDRWElJEBet1oiL1tYCbWkt4zk31phGpTNz206afpvO47aZ7/73nDupSSFQAlSgRCiLGI2yiNEwpIiyE4VaDCXyI+TF5uI1JPwuqKUKBoATiHmnEH8/gwPnZlHZ0Aa1FF0k+WURUfeIONYqwRRFhBNI0TJKrM9QCo9Qd3oM9V1XoQeT7FeU9GYA22/uYF9rDyrMVjHDlfVt2E1+F/dSG0vYen1bjK3Yb0F1xyAaHLegl7yIBB+c2XOcyWxB88ALzUspGyldi5dKpmWySC5UWtqkSTC6a2TH50J0YRi7JFJzdBCp4GpO30tHA0JalozmpZWgIuU6CD/rzzmFbKqaT6CJOpWJakUvmpcWdx2uBbUS/PDVHRdFEuaDPZo2v7/+LgqMtXeCZI6LmpKRRAbNidSevCLapxpYgFsxI1OC0SwilkZ7X85jLc5J0W5lC2TQvY/w+xFvgNm1Utc1RolZf9WCI28CGaRsiLze01ufRCHHVqaoEayKWigk0nd2JUnvUUEvzK0OFBLdIp6vn9FYXYuna+8w3N2r6ntMJBGH03YEepGSyOW5+/RAMRKqwXXnWdgam/87fnJ5HnNrK7C3HEZ7YxNGVEzAv5DyrmWjh+FZPX+sEzfdz+H2fxAz/Sd87o98w6hrFmE6Hu/rF9dZRgZSEuE0Rl2PSeSUkGKRj/TQ9pZDuGTvFmNYgGU66doQXeNzTuMGJSgFRRLh+LYysfRSGXpyT3m7EVB84aA4zzBOx75wSNy78PCu+JSJ9K7FaUx7Xv2ul2nPMqzUDDipBbrnj4RoWQ2I+1JR8gDPNieUzbxvXckX0hMpFuV/Go1GWcRolIzIT3XilXsKJZdvAAAAAElFTkSuQmCC",pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABcSURBVHgB7c8xEYAwAATBByUUNHigQQMGEISHmKQnHpIUN5lbB7tkK386PPee8p5p9R1XRlgzCSM0RmiM0BihMUJjhMYIjREaIzRGaIzQGKExQmOExgiNERojNBUSpwWirlapRwAAAABJRU5ErkJggg==",de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACFSURBVHgB7dIxDkRQFIXh87iZyfQzxRQobdxCVLahQBQKhUrCI3Zx7sv5dvAnf6ir4ornAc/y3Fp7IuLhOwQhQ4ZEKISNQtgohI1C2CQTYk1Z4hfg2hi1Fh+FsFEIG4WwUQibZELC0L2v/3eHZ/30abUWG4WwUQgbhbBRCBublxe8WzfDDcM3GFg/f4psAAAAAElFTkSuQmCC",fe=""+new URL("Seychelles.BfKxcl1J.png",import.meta.url).href,Ae=""+new URL("Brunei.CGBPD93M.png",import.meta.url).href,ue=""+new URL("Malaysia.BOfPH0pV.png",import.meta.url).href,ge=""+new URL("Laos.C679RtvB.png",import.meta.url).href,me=""+new URL("Luxembourg.DJObZEzn.png",import.meta.url).href,Ce=""+new URL("Iceland.RqMcqBoX.png",import.meta.url).href,g=[{prefix:"82",area:"Korea",flag:re},{prefix:"81",area:"Japan",flag:N},{prefix:"62",area:"Indonesia",flag:X},{prefix:"91",area:"India",flag:q},{prefix:"852",area:"HongKong",flag:_},{prefix:"853",area:"Macao",flag:he},{prefix:"886",area:"TaiWan",flag:$},{prefix:"65",area:"Singapore",flag:ee},{prefix:"248",area:"Seychelles",flag:fe},{prefix:"357",area:"Cyprus",flag:ce},{prefix:"673",area:"Brunei",flag:Ae},{prefix:"60",area:"Malaysia",flag:ue},{prefix:"856",area:"Laos",flag:ge},{prefix:"45",area:"Denmark",flag:se},{prefix:"46",area:"Sweden",flag:te},{prefix:"41",area:"Switzerland",flag:ie},{prefix:"352",area:"Luxembourg",flag:me},{prefix:"47",area:"Norway",flag:ae},{prefix:"354",area:"Iceland",flag:Ce},{prefix:"84",area:"Vietnam",flag:le},{prefix:"44",area:"Britain",flag:ne},{prefix:"33",area:"France",flag:pe},{prefix:"49",area:"Germany",flag:de}],D=60;class xe{constructor(e){this.type=e,this.value="",this.isFocus=!1,this.isError=!1,e==="password"||e==="checkPassword"||e==="logInPassword"?(this.isPassword=!0,this.inputType="password"):(this.isPassword=!1,this.inputType="text"),this.tips="",this.isOK=!1,this.placeholder="",this.checkPwdData={},this.codeData={},this.setPlaceholder(),this.setPasswordCheck(),this.setPhonePrefixList()}setPlaceholder(){switch(this.type){case"email":this.placeholder="Login.placeholder1";break;case"phone":this.placeholder="Login.placeholder5";break;case"logInPassword":this.placeholder="Login.placeholder2";break;case"validCode":this.placeholder="Login.placeholder3";break;case"password":this.placeholder="Login.placeholder2";break;case"checkPassword":this.placeholder="Login.placeholder4";break;default:this.placeholder="Login.placeholder6";return}}setPasswordCheck(){if(this.type!=="password")return!1;this.checkPwdData.rules={ruleNums:{str:"Login.inputTips13",bol:/^.{8,18}$/.test(this.value)},ruleUpper:{str:"Login.uppercase",bol:/[A-Z]/.test(this.value)},ruleLower:{str:"Login.lowercase",bol:/[a-z]/.test(this.value)},ruleNumber:{str:"Login.inputTips15",bol:/\d/.test(this.value)},ruleSpecial:{str:"Login.inputTips14",bol:/[-~!@#$%^&*_+=;:'"<>?/.,{}()\[\]\\]/.test(this.value)}},this.checkPwdData.isCheckOK=Object.values(this.checkPwdData.rules).every(e=>e.bol)}setCodeData(e){if(this.type!=="validCode")return!1;this.codeData={isSend:!1,sendText:e==="email"?"Login.getCode":"Login.getSMSCode",sendTime:D,isShow:!1,captcha:!1}}setPhonePrefixList(){if(this.type!=="phone")return!1;this.searchPrefixKey="",this.phonePrefixList=g,this.phonePrefixList.forEach(s=>{s.isSelect=!1}),this.phonePrefix=k().getPrefix()?k().getPrefix():0,this.isOpenList=!1;let e=-1;e=g.findIndex(s=>s.prefix==this.phonePrefix),e===-1?(this.phonePrefix=g[0].prefix,this.areaFlag=g[0].flag,this.phonePrefixList[0].isSelect=!0):(this.phonePrefix=g[e].prefix,this.areaFlag=g[e].flag,this.phonePrefixList[e].isSelect=!0)}}class Ie{constructor(e){this.timer=null,this.list=[];for(let t in e)this.list.push(new xe(e[t]));const s=this.list.findIndex(t=>t.type==="validCode");s>-1&&this.list[s].setCodeData(this.list[0].type)}bindCheckRobotCheck(){let e=this;if(e.list.find(s=>s.type==="validCode")){let i=function(c){},d=function(c){c===!0?window.location.href="https://www.aliyun.com/":alert("业务验证不通过！")},s=null;s=document.createElement("script"),s.src="https://o.alicdn.com/captcha-frontend/aliyunCaptcha/AliyunCaptcha.js",s.type="text/javascript",document.head.appendChild(s);let t=document.createElement("div");t.id="captcha-element",document.body.appendChild(t),s.onload=()=>{initAliyunCaptcha({SceneId:oe().getItem()?"9v5glil4i":"9sjme0s4n",prefix:"uqby6fg",mode:"popup",element:"#captcha-element",button:"#captcha-button",captchaVerifyCallback:a,onBizResultCallback:d,getInstance:i,slideStyle:{width:360,height:40},language:"en",immediate:!1,region:"cn"})};async function a(c){e.bindChildSendCode(c)}}}bindPhonePrefixListTransfer(){const e=this.list.findIndex(s=>s.type==="phone");e!==-1&&(this.list[e].isOpenList=!this.list[e].isOpenList)}bindPhonePrefixListClose(){const e=this.list.findIndex(s=>s.type==="phone");e!==-1&&(this.list[e].isOpenList=!1)}bindResetPhonePrefix(e,s){this.list[e].phonePrefixList.forEach(t=>{t.isSelect=!1}),this.list[e].phonePrefixList[s].isSelect=!0,this.list[e].phonePrefix=this.list[e].phonePrefixList[s].prefix,this.list[e].areaFlag=this.list[e].phonePrefixList[s].flag,this.list[e].isOpenList=!1}bindSetPrefixList(e){if(this.list[e].type!=="phone")return!1;this.list[e].phonePrefixList=this.findPrefixList(this.list[e].searchPrefixKey)}bindChildInputCheck(e){if(this.list[e].value=this.list[e].value.replace(/\s/g,""),this.list[e].type!=="password")return!1;this.list[e].setPasswordCheck()}bindChildFocus(e){let s=document.getElementsByClassName("aiImg")[0];s&&(s.style.transform="translate(200%)"),this.list[e].isFocus=!0}bindChildBlur(e){let s=document.getElementsByClassName("aiImg")[0];switch(s&&(s.style.transform="translate(0)"),this.list[e].isFocus=!1,this.list[e].type){case"email":const t=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(this.list[e].value);this.list[e].isOK=t,this.list[e].tips=t?"":"Login.inputTips2",this.list[e].isError=!t;break;case"phone":const i=/^\d{1,11}$/.test(this.list[e].value);this.list[e].isOK=i,this.list[e].tips=i?"":"Login.inputTips11",this.list[e].isError=!i;break;case"logInPassword":const a=/^.{8,18}$/.test(this.list[e].value);this.list[e].isOK=a,this.list[e].tips=a?"":"Login.inputTips12",this.list[e].isError=!a;break;case"validCode":const d=!!this.list[e].value;this.list[e].isOK=d,this.list[e].tips=d?"":"Login.placeholder3",this.list[e].isError=!d;break;case"password":const c=this.list[e].checkPwdData.isCheckOK;this.list[e].isOK=c,this.list[e].tips=c?"":"Login.inputTips16",this.list[e].isError=!c;break;case"checkPassword":const w=this.list.find(n=>n.type==="password").value,r=!!(this.list.find(n=>n.type==="password").isOK&&this.list[e].value===w);this.list[e].isOK=r,this.list[e].tips=r?"":"Login.inputTips7",this.list[e].isError=!r;break;default:return}}bindChildClear(e){this.list[e].value="",this.list[e].isOK=!1}bindChildChangeInputType(e,s){this.list[e].inputType=s}bindChildSendCode(e,s){const t=this.list.findIndex(a=>a.type==="email"||a.type==="phone"),i=this.list.findIndex(a=>a.type==="validCode");if(this.list[i].type==="validCode"&&t!==-1&&(this.bindChildBlur(t),this.list[t].isOK&&!this.list[i].codeData.isSend)){this.list[i].codeData.isSend=!0;const a={};this.list[t].type==="email"?a.email=this.list[t].value:this.list[t].type==="phone"&&(a.phonePrefix=this.list[t].phonePrefix,a.phone=this.list[t].value),a.captchaVerifyParam=e,J(a).then(d=>{u.success("Success"),this.list[t].type==="email"&&s==="register"?x({types:"sign_up_mail_code",params:{sign_up_sent_mail:a.email},utmKeys:["id"]}):this.list[t].type==="phone"&&s==="register"&&x({types:"sign_up_phone_code",params:{sign_up_sent_area:a.phonePrefix,sign_up_sent_number:a.phone},utmKeys:["id"]}),this.list[i].codeData.sendText="Login.send",this.list[i].codeData.isShow=!0,this.list[i].codeData.captcha=!0,this.timer=E(()=>{this.list[i].codeData.sendTime--,this.list[i].codeData.sendText="Login.send",this.list[i].codeData.sendTime===0&&(this.bindClearTimer(),this.list[i].codeData.isSend=!1,this.list[i].codeData.sendText="Login.getCode",this.list[i].codeData.sendTime=D,this.list[i].codeData.isShow=!1)},1e3)}).catch(d=>{this.list[i].codeData.isSend=!1,this.list[i].codeData.captcha=!1})}}bindClearTimer(){clearInterval(this.timer)}findPrefixList(e){const s=e.toLowerCase(),t=new RegExp(s,"i");return g.filter(i=>(i.isSelect=!1,t.test(i.prefix)||t.test(i.area)))}returnData(){const e=this.list.findIndex(s=>s.type==="validCode");return this.list[e]}}const L=l=>{let e={};for(let s in l){if(!l[s].isOK)return!1;l[s].type==="phone"&&(e.phonePrefix=l[s].phonePrefix),e[l[s].type]=l[s].value}return e},B=(l,e)=>{const s={};return e.forEach(t=>{l.hasOwnProperty(t)&&(t==="logInPassword"||t==="password"?s.password=V().$encrypt(l[t]):s[t]=l[t])}),s},Pe=()=>{const{t:l}=Q(),e=S(),s=I(),t=U(!1),i=U({});t.value=!!s.getToken(),i.value=e.getInfo();const a=C(()=>{W().then(o=>{o.code==="200"&&(u.success("Log Out Success！"),s.setToken(""),e.setInfo({}),t.value=!1,setTimeout(()=>{H("/"),i.value={}},500))})},1e3,{leading:!0,trailing:!1}),d=C(o=>{let r="",n=[];const f=L(o);if(r=o[0].type,o.forEach(h=>{n.push(h.type),h.type==="phone"&&n.push("phonePrefix")}),!f){u.error(l("Login.inputTips10"));return}const A=b.service({lock:!0,background:"rgba(0, 0, 0, 0.5)"}),p=B(f,n);O(p).then(h=>{A.close(),u.success({message:`<span style="white-space: nowrap;">${l("Login.logSuccess")}</span>`,dangerouslyUseHTMLString:!0}),x({types:"login_success",params:{login_type:r},isDailyVisit:!0,utmKeys:["id","campaign"]});const m=y();s.setToken(h.data.tokenValue),e.setInfo(h),setTimeout(()=>{R({path:m("/user")})},500)}).catch(()=>{A.close()})},1e3,{leading:!0,trailing:!1}),c=C(o=>{let r="";const n=[],f=L(o);if(console.log("sss",f),r=o[0].type,o.forEach(h=>{n.push(h.type),h.type==="phone"&&n.push("phonePrefix")}),!f){u.error(l("Login.inputTips10"));return}const A=b.service({lock:!0,background:"rgba(0, 0, 0, 0.5)"}),p=B(f,n);Y(p).then(()=>{Z(p).then(()=>{j(p).then(h=>{A.close(),u.success({message:`<span style="white-space: nowrap;">${l("Login.signInSuccess")}</span>`,dangerouslyUseHTMLString:!0}),x({types:"sign_up_summit",params:{sign_up_type:r},utmKeys:["id"]});const m="GLR65GIFU5DBVLG6I7DMO5",T="36VDHFYP3FCTXPPI7DPXXF",v=E(()=>{if(__adroll){clearInterval(v),__adroll._ensure_global("adroll_adv_id",m),__adroll._ensure_global("adroll_pix_id",T);try{__adroll.record_user({adroll_segments:"1739a0b3"})}catch{}}},100),G=y(),K=I(),F=S();K.setToken(h.data.tokenValue),F.setInfo(h);const M=P().query.source;setTimeout(()=>{M==="app"?uni.navigateTo({url:"/pages/login/index"}):R({path:G("/user")})},500)}).catch(()=>{A.close()})}).catch(()=>{A.close()})}).catch(()=>{A.close()})},1e3,{leading:!0,trailing:!1}),w=C(o=>{const r=[],n=L(o);if(o.forEach(p=>{r.push(p.type),p.type==="phone"&&r.push("phonePrefix")}),!n){u.error(l("Login.inputTips10"));return}const f=b.service({lock:!0,background:"rgba(0, 0, 0, 0.5)"}),A=B(n,r);z(A).then(()=>{f.close(),u.success(l("Login.pwdChanged"));const p=y(),m=P().query.source;setTimeout(()=>{m==="app"?uni.navigateTo({url:"/pages/login/index"}):R({path:p("/login")})},1e3)}).catch(()=>{f.close()})},1e3,{leading:!0,trailing:!1});return{isLogin:t,userInfo:i,bindDoLoginOut:a,bindDoLogin:d,bindDoRegister:c,bindDoChangePassword:w}};export{he as a,ce as b,pe as c,de as d,fe as e,re as f,Ae as g,ue as h,ge as i,me as j,Ce as k,Ie as m,Pe as u};
