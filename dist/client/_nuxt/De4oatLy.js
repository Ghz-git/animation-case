import{_ as W,u as K,k as ot,ab as m,aV as it,bd as ct,aq as dt,aQ as rt,i as Q,al as ut,a as pt}from"./_HAIwVXa.js";import{_ as Z,c as V,m as _t,a as ht,b as mt,u as vt}from"./BjIcEEcy.js";import{_ as bt}from"./Ckqkxhxz.js";import{_ as xt}from"./CT_kISdW.js";import{h as ft,i as gt,j as yt,k as wt,l as Ut,u as kt,m as Bt}from"./ByGyayRx.js";import{O as o,P as i,G as w,ah as D,Q as e,a0 as n,u as t,a5 as Ct,W as Lt,b as v,m as Y,E as Tt,aB as Rt,H as r,Y as y,ar as St,_ as C,a6 as _,Z as E,ae as L}from"./BqoG-WQz.js";import{u as Pt}from"./BGwd1ZC3.js";import"./DKu82GiH.js";import"./OzbZc6Xg.js";import"./Cjz2gp5U.js";import"./DUqSV5Db.js";import"./CEdoGBVK.js";import"./BHqgVoJ_.js";import"./Bnwo2qEh.js";import"./Ba2JAF4h.js";import"./Dmb7my4Z.js";import"./yL3SP3qT.js";import"./ywD8FVz5.js";import"./DUKBmrCH.js";import"./UuyRz_fY.js";import"./C7nOX_WZ.js";import"./BxfiLCyj.js";import"./Cq9Fpw4b.js";import"./c6ZmMwjk.js";import"./C0AqQVWm.js";const Dt={class:"details-item"},It={class:"lil"},At={class:"lir"},Nt={__name:"detailsItem",props:{list:{type:Object,default:{}}},setup(I){const{t:T}=K(),p=b=>typeof b=="string"&&b.includes(".")&&isNaN(Number(b.split(".")[1]));return(b,A)=>{const a=Z;return o(),i("div",Dt,[(o(!0),i(w,null,D(I.list.grouped,(s,N)=>(o(),i("div",{class:"li",key:N},[e("div",It,[(o(!0),i(w,null,D(I.list.labelArr,(x,R)=>(o(),i("div",{class:"lil-label",key:R},n(p(x)?t(T)(x):x),1))),128))]),e("div",At,[(o(!0),i(w,null,D(s,(x,R)=>(o(),Ct(a,{txt:x,appendClass:".user-details",class:"lir-tips"},null,8,["txt"]))),256))])]))),128)),Lt(b.$slots,"default",{},void 0,!0)])}}},j=W(Nt,[["__scopeId","data-v-ff4e3982"]]),$t={class:"user-details"},Et={class:"user-details_header"},Gt={class:"title-inner"},Mt={class:"badge"},qt={class:"user-details_inner"},Vt={class:"boxInner"},Wt={class:"accountBox"},Ht={class:"textLine"},Ft={class:"value"},zt={class:"textLine"},Ot={class:"value"},Qt={class:"textLine"},Yt={class:"value"},jt={class:"textLine"},Kt={class:"value"},Zt={class:"textLine"},Jt={class:"value"},Xt={class:"tradeBox"},te={class:"textLine between"},ee={class:"label"},se={class:"textLine between"},ae={class:"labell"},le={class:"textLine between"},ne={class:"labell"},oe={class:"textLine between"},ie={key:0,class:"labell"},ce={key:1,class:"labell"},de={class:"tradeBox"},re={class:"textLine between"},ue={class:"label"},pe={class:"textLine between"},_e={class:"labell"},he={class:"textLine between"},me={class:"labell"},ve={class:"textLine between"},be={key:0,class:"labell"},xe={key:1,class:"labell"},fe={class:"tradeBox"},ge={class:"textLine between"},ye={class:"label"},we={class:"labell"},Ue={class:"textLine between"},ke={class:"labell"},Be={key:0,class:"challengeBox"},Ce={class:"textWrap"},Le={class:"textLine"},Te={class:"label"};const Re={class:"textLine"},Se={class:"label"};const Pe={class:"textLine"},De={class:"label"},Ie={class:"textLine"},Ae={class:"label"},Ne={class:"value"},$e={key:1,class:"challengeBox"},Ee={class:"textWrap"},Ge={class:"textLine"},Me={class:"label"},qe=["tips"],Ve={key:0,class:"copy"},We={class:"textLine"},He={class:"label"},Fe=["tips"],ze={key:0,class:"copy"},Oe={class:"textLine"},Qe={class:"label"},Ye={class:"value"},je={class:"textLine"},Ke={class:"label"},Ze=["tips"],Je={key:0,class:"copy"},Xe={class:"textLine"},ts={class:"label"},es=["tips"],ss={key:0,class:"copy"},as={class:"collapseTop"},ls={class:"textLine between"},ns={class:"labell"},os={class:"collapseContent"},is={class:"btnGroup itemBtnGroup"},cs={class:"collapseTop"},ds={class:"textLine between"},rs={class:"labell"},us={class:"collapseContent"},ps={class:"btnGroup itemBtnGroup"},_s={class:"btnGroup"},hs={key:1,class:"detail-fail"},ms={__name:"index",setup(I){const{userInfo:T}=Pt();let p=v({});const b=c=>{let l=vt(c);Object.keys(l).map(h=>{p.value[h]=l[h]})},A=ot(),{t:a}=K(),s=v({}),N=v({}),x=v(null),R=v(),G=v(),H=v(""),F=v({loading:!0,list:[]});let k=v([]);const z=v(),J=Y(()=>{let c=s.value.status==0?a("Battle.tips6"):s.value.status==1?a("User.tips4"):s.value.status==2?a("User.tips5"):a("User.tips19");return`${a("Battle.txt7")} ${c}`}),X=Y(()=>s.value.status<2?"#50D183":s.value.status==2?"#FF4A37":"#fff"),tt=c=>{for(let l in c)s.value[l]=c[l];s.value.isUserUp=s.value.isUserUp==="true",s.value.phaseIndex=+s.value.phaseIndex,s.value.phaseIndex===3&&M(s)},et=async()=>{const c=A.query.uid,l={tradingChallengeUid:c},h=dt.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});let d=await gt(l),f=await yt({challengeUid:c}),S=await wt({challengeUid:c});s.phaseIndex===3&&M(s),s.value=rt(d.data),tt(A.query),d.data.accountNetWrth&&d.data.accountNetWrth;const B=d.data.dailySettlementNetWrth?d.data.dailySettlementNetWrth:0,P=d.data.maxDailyDrawdown?d.data.maxDailyDrawdown:0,g=d.data.maxTotalDrawdown?d.data.maxTotalDrawdown:0;s.value.minAccountDdnw=Q(B,P),s.value.minAccountTdnw=Q(B,g),s.value.scalingPlan=f.data,s.value.seniorPlan=S.data,b(s.value),h.close()},O=(c,l)=>{const{phaseIndex:h,withdrawalAmount:d,platform:f,account:S,uid:B,orderNo:P,withdrawCount:g,renewSignUpCost:u,profitSharingRatio:U}=c;let q={level:h,amount:d,platform:f,account:S,tradingChallengeId:B,withdrawType:l,orderNo:P,withdrawCount:g,renewSignUpCost:u,profitSharingRatio:U};N.value=q,x.value.shower()};et(),Tt(()=>{ft().then(c=>{F.value.total=c.data.totalProfit,F.value.times=c.data.withdrawCount})});const st=()=>{Ut({tradingChallengeUid:A.query.uid}).then(c=>{s.value.status=3,ut.warning(a("User.settled"))})},$=c=>{H.value=a(c),R.value.shower()},at=async c=>{try{let l=await kt({challengeUid:c.uid});l.code===200&&(p.value.getExpandPlansAccount(l.data.expandAmount),$(a("User.txt31")))}catch{$("不滿足升級條件")}},lt=async c=>{try{(await Bt({challengeUid:c.uid})).code===200&&$(a("User.txt31"))}catch{$("不滿足升級條件")}},M=async c=>{var h,d;let l={email:((h=T.value)==null?void 0:h.data.email)??"",phone:((d=T.value)==null?void 0:d.data.phone)??"",phoneCode:"",userId:c.userId??""};try{let f=await mergeTradeAccountList(l);k.value=f.data}catch{k.value=null}},nt=c=>{M(c),z.value.show(k.value)};return(c,l)=>{const h=pt,d=Z,f=bt,S=ht,B=xt,P=mt,g=Rt("copy");return o(),i("div",$t,[e("div",Et,[r(h,{class:"back-m",to:"/user"}),e("span",Gt,n(t(a)("Battle.title")),1)]),e("div",Mt,n(t(a)("common.step",{num:t(s).phaseIndex})),1),e("div",qt,[e("div",Vt,[e("div",Wt,[r(f,null,{default:y(()=>[e("div",Ht,[r(d,{txt:{faq:["User.txt22"],label:t(a)("common.fund58")},appendClass:".user-details"},null,8,["txt"]),e("span",Ft,n(t(m)(t(p).totalAccountBalance)),1)]),e("div",zt,[r(d,{txt:{faq:["User.tips9"],label:t(a)("Battle.txt1")},appendClass:".user-details"},null,8,["txt"]),e("span",Ot,n(t(s).eliminatedAccountNetWrth?t(m)(t(s).eliminatedAccountNetWrth):t(m)(t(s).accountNetWrth)),1)]),e("div",Qt,[r(d,{txt:{faq:["User.tips10"],label:t(a)("Battle.txt2")},appendClass:".user-details"},null,8,["txt"]),e("span",Yt,n(t(m)(t(s).dailySettlementNetWrth)),1)]),e("div",jt,[r(d,{txt:{faq:["User.tips11"],label:t(a)("Battle.li.li2")},appendClass:".user-details"},null,8,["txt"]),e("span",Kt,n(t(m)(t(s).maxDailyDrawdown))+" ("+n(t(a)("Battle.tips3",{num:t(m)(t(s).minAccountTdnw)}))+") ",1)]),e("div",Zt,[r(d,{txt:{faq:["User.tips12"],label:t(a)("Battle.txt3")},appendClass:".user-details"},null,8,["txt"]),e("span",Jt,n(t(m)(t(s).maxTotalDrawdown))+" ("+n(t(a)("Battle.tips3",{num:t(m)(t(s).minAccountTdnw)}))+") ",1)])]),_:1})]),l[19]||(l[19]=e("div",{class:"tradeBox-gap"},null,-1)),e("div",Xt,[e("div",te,[e("span",ee,n(t(a)("Battle.txt4")),1),r(d,{txt:{faq:["User.tips18"],label:t(a)("Battle.txt5")},appendClass:".user-details",alignR:!0,heightAuto:!0},null,8,["txt"])]),e("div",se,[l[6]||(l[6]=e("span",{class:"label"},"TARGET",-1)),e("span",ae,n(t(s).phaseIndex==3&&t(s).status==0?"--":t(a)("User.txt40",{day:t(s).minTradingDay})),1)]),e("div",le,[l[7]||(l[7]=e("span",{class:"label"},"RESULT",-1)),e("span",ne,n(t(a)("User.txt40",{day:t(s).currentTradingDay})),1)]),e("div",oe,[l[8]||(l[8]=e("span",{class:"label"},"SUMMARY",-1)),t(s).phaseIndex==3&&t(s).status==0?(o(),i("span",ie,n(t(a)("Battle.tips5")),1)):(o(),i("span",ce,n(t(s).tradingDayResult===0?t(a)("Battle.tips5"):t(a)("User.list.stu1")),1))])]),e("div",de,[e("div",re,[e("span",ue,n(t(a)("Battle.txt4")),1),r(d,{txt:{faq:["TradingRules.basicRules.list.profit.cxt"],label:t(a)("Battle.li.li4")},appendClass:".user-details",alignR:!0,heightAuto:!0},null,8,["txt"])]),e("div",pe,[l[9]||(l[9]=e("span",{class:"label"},"TARGET",-1)),e("span",_e,n(t(s).phaseIndex==3&&t(s).status==0?"--":t(m)(t(s).targetProfit)),1)]),e("div",he,[l[10]||(l[10]=e("span",{class:"label"},"RESULT",-1)),e("span",me,n(t(m)(t(s).currentProfit)),1)]),e("div",ve,[l[11]||(l[11]=e("span",{class:"label"},"SUMMARY",-1)),t(s).phaseIndex==3&&t(s).status==0?(o(),i("span",be,n(t(m)(t(s).currentProfit)>0?t(a)("Battle.tips5"):t(a)("User.list.stu1")),1)):(o(),i("span",xe,n(t(s).targetProfitResult===0?t(a)("Battle.tips5"):t(a)("User.list.stu1")),1))])]),e("div",fe,[e("div",ge,[e("span",ye,n(t(a)("Battle.txt4")),1),e("span",we,n(t(a)("Battle.txt6")),1)]),l[13]||(l[13]=St('<div class="textLine between" data-v-a6a35688><span class="label" data-v-a6a35688>TARGET</span><span class="labell" data-v-a6a35688>--</span></div><div class="textLine between" data-v-a6a35688><span class="label" data-v-a6a35688>RESULT</span><span class="labell" data-v-a6a35688>--</span></div>',2)),e("div",Ue,[l[12]||(l[12]=e("span",{class:"label"},"SUMMARY",-1)),e("span",ke,n(t(s).positionResult===0?t(a)("Battle.tips5"):t(a)("User.list.stu1")),1)])]),l[20]||(l[20]=e("div",{class:"tradeBox-gap"},null,-1)),r(V,{title:J.value,collapseTitleColor:X.value,isColor:!0},{default:y(()=>[t(s).status==2||t(s).status==3?(o(),i("div",Be,[e("div",Ce,[e("div",Le,[e("span",Te,n(t(a)("Battle.label1")),1),e("span",{class:C(["value",{err:t(s).dailyDrawdownStatusResult===1}])},n(t(s).dailyDrawdownStatusResult===1?t(a)("Battle.label7",{price:"1,000"}):t(a)("User.no")),3)]),_("",!0),_("",!0),e("div",Re,[e("span",Se,n(t(a)("Battle.label4")),1),e("span",{class:C(["value",{err:t(s).maxDrawdownStatusResult===1}])},n(t(s).maxDrawdownStatusResult===1?t(a)("Battle.label8",{price:"1,000"}):t(a)("User.no")),3)]),_("",!0),e("div",Pe,[e("span",De,n(t(a)("Battle.label6")),1),e("span",{class:C(["value",{err:t(s).untradedDaysStatusResult===1}])},n(t(s).untradedDaysStatusResult===1?t(a)("User.yes"):t(a)("User.no")),3)]),e("div",Ie,[e("span",Ae,n(t(a)("User.against")),1),e("span",Ne,n(t(a)("User.no")),1)])])])):(o(),i("div",$e,[e("div",Ee,[e("div",Ge,[e("span",Me,n(t(a)("Battle.logAccount")),1),E((o(),i("span",{class:"value copyHover",tips:t(a)("User.copy")},[L(n(t(s).account),1),t(s).account?(o(),i("i",Ve)):_("",!0)],8,qe)),[[g,t(s).account]])]),e("div",We,[e("span",He,n(t(a)("Battle.psw")),1),E((o(),i("span",{class:"value copyHover",tips:t(a)("User.copy")},[L(n(t(s).password),1),t(s).password?(o(),i("i",ze)):_("",!0)],8,Fe)),[[g,t(s).password]])]),e("div",Oe,[e("span",Qe,n(t(a)("Battle.server")),1),e("span",Ye,n(t(s).server),1)]),e("div",je,[e("span",Ke,n(t(a)("Battle.email")),1),E((o(),i("span",{class:"value copyHover",tips:t(a)("User.copy")},[L(n(t(s).email),1),t(s).email?(o(),i("i",Je)):_("",!0)],8,Ze)),[[g,t(s).email]])]),e("div",Xe,[e("span",ts,n(t(a)("Battle.phone")),1),E((o(),i("span",{class:"value copyHover",tips:t(a)("User.copy")},[L(n(t(s).phone),1),t(s).phone?(o(),i("i",ss)):_("",!0)],8,es)),[[g,t(s).phone]])])])]))]),_:1},8,["title","collapseTitleColor"]),t(s).phaseIndex===3?(o(),i(w,{key:0},[r(V,{title:`${t(a)("common.successDesc4")}: ${t(p).fundPlanStep}`},{default:y(()=>[e("div",as,[(o(!0),i(w,null,D(t(p).fundPlan,(u,U)=>(o(),i("div",ls,[r(d,{txt:{faq:u.faq,label:u.label},appendClass:".user-details"},null,8,["txt"]),e("span",ns,n(u.val),1)]))),256))]),e("div",os,[r(j,{list:t(p).fundPlanListH5},{default:y(()=>{var u;return[e("div",is,[t(s).phaseIndex===3?(o(),i("button",{key:0,class:C(["btn deep",{disabled:((u=t(s).scalingPlan)==null?void 0:u.checkExpandPlansConditionCode)!=="2"}]),onClick:l[0]||(l[0]=U=>at(t(s)))},n(t(a)("User.txt30")),3)):_("",!0)])]}),_:1},8,["list"])])]),_:1},8,["title"]),r(V,{title:`${t(a)("common.bar4")}: ${t(a)(t(p).seniorLev1)}`},{default:y(()=>[e("div",cs,[(o(!0),i(w,null,D(t(p).premiumPlan,(u,U)=>(o(),i("div",ds,[r(d,{txt:{faq:u.faq,label:u.label},appendClass:".user-details"},null,8,["txt"]),e("span",rs,n(t(a)(u.val)),1)]))),256))]),e("div",us,[r(j,{list:t(p).premiumPlanListH5},{default:y(()=>{var u,U;return[e("div",ps,[t(s).phaseIndex===3&&t(p).seniorLev2==="User.txt14"?(o(),i("button",{key:0,class:C(["btn deep",{disabled:!t(p).btnUpgradeSenior}]),onClick:l[1]||(l[1]=q=>lt(t(s)))},n(t(a)("User.txt36")),3)):_("",!0),t(k)&&t(s).phaseIndex===3&&t(p).seniorLev1==="User.txt32"?(o(),i("button",{key:1,class:C(["btn deep",{disabled:((u=t(k))==null?void 0:u.length)===0}]),onClick:l[2]||(l[2]=q=>nt(t(s)))},n(((U=t(k))==null?void 0:U.length)===0?t(a)("User.txt37"):t(a)("Home.challenge.text11")),3)):_("",!0)])]}),_:1},8,["list"])])]),_:1},8,["title"])],64)):_("",!0),e("div",_s,[t(s).status==0?(o(),i(w,{key:0},[t(p).btnUpgradeSettlement?(o(),i("button",{key:0,class:"btn deep",onClick:l[3]||(l[3]=u=>O(t(s),0))},n(t(a)("User.btn5")),1)):_("",!0),t(p).btnMT5?(o(),i(w,{key:1},[r(h,{class:"btn deep",to:`${t(it)}/en-US/login?actionType=login`,target:"_blank"},{default:y(()=>l[17]||(l[17]=[L("MC Markets")])),_:1},8,["to"]),r(h,{class:"btn light",to:t(ct),target:"_blank"},{default:y(()=>l[18]||(l[18]=[L("MT5")])),_:1},8,["to"])],64)):_("",!0),t(p).btnSettlement?(o(),i("button",{key:2,class:"btn deep",onClick:l[4]||(l[4]=u=>O(t(s),1))},n(t(a)("User.btn7")),1)):_("",!0)],64)):_("",!0),t(s).status==2?(o(),i("div",hs,[e("button",{class:"btn deep",onClick:st},n(t(a)("User.btn7")),1),t(s).phaseIndex!=3?(o(),i("button",{key:0,class:"btn light",onClick:l[5]||(l[5]=(...u)=>t(G).shower&&t(G).shower(...u))},n(t(a)("User.btn6")),1)):_("",!0)])):_("",!0)])])]),r(S,{ref_key:"publicUpGradeRef",ref:x,data:t(N)},null,8,["data"]),r(B,{ref_key:"publicTipsRef",ref:R,content:t(H),maskBG:"rgba(0,0,0,0)",isBtnGroup:!1},null,8,["content"]),r(P,{ref_key:"publicFailRePaymentRef",ref:G,data:t(s)},null,8,["data"]),r(_t,{ref_key:"mergePopupRef",ref:z},null,512)])}}},vs=W(ms,[["__scopeId","data-v-a6a35688"]]),bs={id:"details"},xs={__name:"details",setup(I){return(T,p)=>{const b=vs;return o(),i("div",bs,[r(b)])}}},Fs=W(xs,[["__scopeId","data-v-b3aae23d"]]);export{Fs as default};
