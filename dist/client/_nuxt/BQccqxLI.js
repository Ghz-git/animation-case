import{S as B}from"./DrKa6_l8.js";import{c as M,h as W,_ as G,u as x,s as R,i as _,j as P}from"./_HAIwVXa.js";import{b as l,r as A,E as Q,k as X,O as c,P as r,u as D,G as V,ah as Y,Q as i,a6 as m,a0 as v,n as j}from"./BqoG-WQz.js";const H=(y,f)=>{const u=M().public.quotes+"/c/activity-manager/getNavigationQuotes";return W(u,y,{},{headers:f})},J={key:0,class:"nation-group"},K=["src"],$=["src"],Z=["src"],ee={class:"type"},se={class:"num"},te={class:"situation"},ne={class:"situation"},ae={__name:"index",setup(y){x();const f=l(null),d=l(null),u=l(null);let n=l([]),o=A([]);const a=l(null),p=l(0);let g=!1;const I=x(),w=B();let S=new Date().getTime(),F=30;const h=()=>{var e;let t=new Date().getTime();t-S>=F&&(p.value++,p.value>=parseInt((e=u.value[0])==null?void 0:e.offsetWidth)*(n.length-o.length)&&(p.value=0),d.value&&(d.value.style.transform=`translateX(-${p.value}px)`),S=t),a.value=requestAnimationFrame(h)},E=()=>{var t;if(a.value)window.cancelAnimationFrame(a.value);else{let e=f.value.offsetWidth/parseInt((t=u.value[0])==null?void 0:t.offsetWidth),s=A([]);if(o=n.value.slice(0,e),o.length<e){let L=e-o.length;for(let b=0;b<L;b++)s.unshift(...o)}n.value.push(...s,...o)}a.value=requestAnimationFrame(h)},N=()=>{a.value&&window.cancelAnimationFrame(a.value)},T=()=>{n.value.length>0&&(window.cancelAnimationFrame(a.value),g=!0)},C=()=>{g&&(a.value=requestAnimationFrame(h),g=!1)},O={"Organization-No":3,Lang:I.locale.value},q=["BTCUSD","ETHUSD","EURUSD","USDJPY","XAUUSD","XAGUSD","US500","GER30","UKOIL","USOIL"],U=()=>{H({symbols:q},O).then(t=>{n.value.push(...z(t.data)),n.value.length>70&&n.value.splice(0,40),j(()=>{E()})}).catch(t=>{console.log(t,"NO MESSAGE")})},z=t=>(t&&t.forEach(e=>{w.find(s=>{e.symbol===s.symbols&&(e.icon1=s.icon1,e.icon2=s.icon2)}),e.type=e.symbol,e.sell=e.bid.toFixed(e.digits),e.zd=_(e.sell,e.open)>0?"+"+_(e.sell,e.open):_(e.sell,e.open),e.zdRate=(P(_(e.sell,e.open),e.open)*100).toFixed(2)+"%"}),t.reverse());let k=null;return Q(()=>{U(),k=R(()=>{U()},3e4)}),X(()=>{N(),clearInterval(k)}),(t,e)=>(c(),r("div",{class:"tips-scroll",ref_key:"carouselContainer",ref:f,onMouseenter:T,onMouseleave:C},[D(n).length?(c(),r("div",{key:0,class:"tips-scroll__inner",ref_key:"carousel",ref:d},[(c(!0),r(V,null,Y(D(n),(s,L)=>(c(),r("div",{class:"item",key:s,ref_for:!0,ref_key:"liWidth",ref:u},[s.icon2?(c(),r("div",J,[i("img",{src:s.icon1,alt:"",class:"nation flag1"},null,8,K),i("img",{src:s.icon2,alt:"",class:"nation flag2"},null,8,$)])):m("",!0),s.icon2?m("",!0):(c(),r("img",{key:1,src:s.icon1,alt:"",class:"sigle"},null,8,Z)),i("span",ee,v(s.type),1),i("span",se,v(s.sell),1),i("span",te,v(s.zd),1),i("span",ne,"("+v(s.zdRate)+")",1)]))),128))],512)):m("",!0)],544))}},re=G(ae,[["__scopeId","data-v-2da0598b"]]);export{re as _};
