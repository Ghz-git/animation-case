import{_ as h}from"./DUqSV5Db.js";import{_ as y}from"./CEdoGBVK.js";import{_,u as x,L as C,l as v,k as S,n as P,aq as u}from"./_HAIwVXa.js";import{b as k,O as I,a5 as R,Y as U,Q as n,u as i,a0 as g,ae as w}from"./BqoG-WQz.js";import{c as B,d as T,e as G,f as D}from"./ByGyayRx.js";import{d as m}from"./BHqgVoJ_.js";const H=""+new URL("waitingPayment.DjjsVwiG.png",import.meta.url).href,M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJQSURBVHgB7VfhcdMwFP7kwl3vaK/ZoGICzAZmg4xgJqihAyRMgJkgYYLCBAkTNExgMwH5AT+JeIql5kVIiYyd9nrNd/edZUvv6XtPfrIMHPHIINASSqkBXYbEV8SMKIkD070kLog18StxLoRY4hDQQogj4k8VDz12QpSx80RliBxe0WWMTSY0auKc+MO0NSSazKWmzTGmbH1AF5iszJyodcRZhG1KnDq2szbZch1KYtXVmfHDg6pa+zGZ4WLG6AjtwxE1aGM86VNMQNQk1ihnRiU6QF2f36j35xNVnErmv2T+M9dGeARVaCqkpqp4if8VU7xIkSS35rbG6uS1KJdLs1S3oTkSR0yOTbl2KlFR/qYNUlkfEuLPzfp5s1G+tc9pzmHQCauGCj1BvTsradnUmsVZ5plrxscnbIBOpTX4hJ4gPv4qYDdOIUas65u5Zrzi+JKlrD1Hn1itmgAFTX59emmeTtmIDLsE0Tov0CueT++a6uSNmaNG8zHWkPAIsg9r9AxdXZvJhWRd/wh6xjoHhxK0hlKfKS0X2M5+bcRcwCPooDAv9174BKWBbf078YtZ+2iYCsrRHEtcyF2G7lHBh4qYIl6MDi7mQHeXAF+G7DHURWYi0jtu7CdFj7Xv5gKbl9gixfahbyuaqW/nZP1DFtEl9sBkxyIPjJm5GUoQDx5dTIbc424U2gi6FxwF7cOTEsSLIPpA79uHZKBMr1g75jRQoxGlxYyU/y8jLJQMChWHMSLRwmceclDuMKr0BGgJ1fz6VAGf+rPS6c/miAfHX4dot06BuEo5AAAAAElFTkSuQmCC",Q={class:"waitingPaymentMain"},Y={class:"text"},K={class:"subText"},L=["lang"],V={__name:"index",setup(A,{expose:f}){const l=k();k({current:1,size:10,total:0,orderBy:"mft"});const{t:c,locale:r}=x();f({shower:()=>{l.value.maskShow()}});const s=t=>{P(t)},a=t=>{const e=Object.values(C).map(d=>d.value),p=v(S().path,e);t===p?l.value.maskHide():s(t)},o=async()=>{a("/user")};return(t,e)=>{const p=h;return I(),R(p,{ref_key:"waitingPaymentRef",ref:l,isCenter:"",isClickMaskHide:!1},{slot_mask:U(()=>[n("div",Q,[n("img",{class:"close",alt:"",src:y,onClick:e[0]||(e[0]=(...d)=>i(l).maskHide&&i(l).maskHide(...d))}),e[4]||(e[4]=n("img",{class:"icon",alt:"",src:H},null,-1)),n("p",Y,g(i(c)("Pay.confirm")),1),n("p",K,g(i(c)("Pay.txt")),1),n("div",{class:"btnGroup",lang:i(r)},[n("button",{class:"btn deep",onClick:o},g(i(c)("Pay.payFinish")),1),n("button",{class:"btn light",onClick:e[1]||(e[1]=d=>a("/user/order"))},g(i(c)("Pay.repay")),1)],8,L),n("p",{class:"contact",onClick:e[2]||(e[2]=d=>a("/contact"))},[e[3]||(e[3]=n("img",{class:"img",alt:"",src:M},null,-1)),w(" "+g(i(c)("Pay.service")),1)])])]),_:1},512)}}},X=_(V,[["__scopeId","data-v-2ade87fd"]]),W=()=>{const A=m((s,a,o=!0)=>{let t=null;o&&(t=u.service({lock:!1,background:"rgba(0, 0, 0, 0.5)"})),B(s).then(e=>{t==null||t.close(),window.open(e.data.redirectPageUrl,"_blank"),a()}).catch(e=>{t==null||t.close()})},1e3,{leading:!0,trailing:!1}),f=m((s,a,o)=>{const t=u.service({lock:!1,background:"rgba(0, 0, 0, 0.5)"});T(s).then(e=>{a.challengeUid=e.data.registrationId,a.paymentUid=e.data.paymentId,A(a,()=>{t.close(),o()},!1)}).catch(e=>{t.close()})},1e3,{leading:!0,trailing:!1}),l=m((s,a,o)=>{const t=u.service({lock:!1,background:"rgba(0, 0, 0, 0.5)"});G(s).then(e=>{a.challengeUid=e.data.registrationId,a.paymentUid=e.data.paymentId,A(a,()=>{t.close(),o()},!1)}).catch(e=>{t.close()})},1e3,{leading:!0,trailing:!1}),c=m((s,a)=>{const o=u.service({lock:!1,background:"rgba(0, 0, 0, 0.5)"});D(s).then(t=>{o.close(),a()})},1e3,{leading:!0,trailing:!1}),r=k(!1);return{bindDoPayment:A,bindDoChallengeSignUp:f,bindDoRePayment:l,bindDoCancelOrder:c,activityCodeLoading:r,bindCheckActivityCode:()=>(r.value=!0,new Promise((s,a)=>{setTimeout(()=>{r.value=!1,s({msg:"success"})},1e3)}))}};export{X as _,W as u};
