import{k as m,L as _,l as y,m as a,q as f,r as x}from"./DTF1NCKZ.js";const l={id:{label:"utm_id",str:"utm_id|utmId"},campaign:{label:"utm_campaign",str:"utm_campaign|utmCampaign"},medium:{label:"utm_medium",str:"utm_medium|utmMedium"},source:{label:"utm_source",str:"utm_source|utmSource"},term:{label:"utm_term",str:"utm_term|utmTerm"},content:{label:"utm_content",str:"utm_content|utmContent"}},w=({...e})=>{var s,i;const r=(e==null?void 0:e.params)||{};let u=e.types==="first_visit"?c(["id","source","campaign"]):c(e.utmKeys);Object.assign(r,u);const n=(s=m().query)!=null&&s.sys?"_"+m().query.sys:"";if(e!=null&&e.isDailyVisit){let t="";if(e.types==="first_visit"){r.first_visit_time=new Date,r.first_visit_system=v(),r.first_visit_browser=O(),r.first_visit_phone=b();const p=Object.values(_).map(g=>g.value);t=y(m().path,p).replace(/\//g,"")}else e.types==="enter_sign_up"?t=e.types+"_"+((i=e==null?void 0:e.params)==null?void 0:i.sign_up_type):t=e.types;if(a().setFirstVisitData(t),!a().getFirstVisitData(t))f().$ga(e.types+n,r),a().setFirstVisitData(t,!0);else return!1}else f().$ga(e.types+n,r)},c=e=>{const r=x().data,u=(s,i)=>{const t=l[s].str.split("|");for(const o of t)if(o in i)return i[o];return null},n={};return e.forEach(s=>{const i=l[s].label,t=u(s,r);t!==null&&(n[i]=t)}),n},v=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return e.indexOf("Win")!==-1?"Windows":e.indexOf("Mac")!==-1?"MacOS":e.indexOf("X11")!==-1?"UNIX":e.indexOf("Linux")!==-1?"Linux":"Unknown"},O=()=>{const e=navigator.userAgent;return e.indexOf("Firefox")>-1?"Firefox":e.indexOf("Opera")>-1?"Opera":e.indexOf("Trident")>-1?"Internet Explorer":e.indexOf("Edge")>-1?"Microsoft Edge":e.indexOf("Chrome")>-1?"Google Chrome":e.indexOf("Safari")>-1?"Safari":"Unknown"},b=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return/Android/.test(e)?"Android":/iPhone/.test(e)?"iPhone":"Unknown"};export{b as a,w as g};
